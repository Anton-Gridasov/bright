/*! bright 09-09-2014 */
!function(a){a.br=a.br||{},a.br.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},a.br.isNull=function(a){return void 0===a||null===a},a.br.isEmpty=function(a){return br.isNull(a)||"undefined"!=typeof a.length&&0===a.length},a.br.isArray=function(a){return!br.isNull(a)&&"[object Array]"===Object.prototype.toString.call(a)},a.br.isObject=function(a){return!br.isEmpty(a)&&"object"==typeof a},a.br.isEmptyObject=function(a){if(br.isObject(a)){var b=!0;for(var c in a){b=!1;break}return b}return!1},a.br.isBoolean=function(a){return"boolean"==typeof a},a.br.isString=function(a){return"string"==typeof a},a.br.isFunction=function(a){return"function"==typeof a},a.br.toString=function(a){return br.isNull(a)?"":a.toString()},a.br.split=function(a,b){return br.isEmpty(a)?[]:br.isString(a)?a.split(b):void 0},a.br.toInt=function(a){if(br.isString(a)){if(a.length>0)return parseInt(a,10)}else if(br.isNumber(a))return a},a.br.toReal=function(a){if(br.isString(a)){if(a.length>0)return parseFloat(a)}else if(br.isNumber(a))return a}}(window),function(a){function b(a){function b(a,b,c){var d=null,e=f.get(a,b);return br.isArray(e)&&e.length>0&&(d=e.pop(),c&&f.set(a,e)),br.isEmpty(d)?br.isNull(b)?d:b:d}function d(a,b,c){var d=null,e=f.get(a,b);return br.isArray(e)&&e.length>0&&(d=e.shift(),c&&f.set(a,e)),br.isEmpty(d)?br.isEmpty(b)?d:b:d}var e=a,f=this;this.get=function(a,b){var d;if(br.isArray(a)){d={};for(var f in a)d[a[f]]=this.get(a[f])}else d=c.unpack(e.getItem(a));return br.isEmpty(d)?br.isNull(b)?d:b:d},this.set=function(a,b){if(br.isObject(a))for(var d in a)this.set(d,a[d]);else e.setItem(a,c.pack(b));return this},this.inc=function(a,b,c){var d=this.get(a);return br.isNumber(d)?(b=br.isNumber(b)?b:1,this.set(a,d+b)):br.isString(d)?br.isEmpty(b)||(void 0===c&&(c=", "),d=br.isEmpty(d)?b:d+c+b,this.set(a,d)):(b=br.isNumber(b)?b:1,this.set(a,b)),this},this.dec=function(a,b){var c=this.get(a);return b=br.isNumber(b)?b:1,this.set(a,br.isNumber(c)?c-b:b),this},this.append=function(a,b,c){if(!br.isEmpty(b)){var d=this.get(a);if(br.isArray(d)||(d=[]),br.isArray(b))for(var e in b)this.append(a,b[e],c);else{if(br.isNumber(c))for(;d.length>=c;)d.shift();d.push(b),this.set(a,d)}}return this},this.appendUnique=function(a,b,c){return br.isEmpty(b)||(this.remove(a,b),this.append(a,b,c)),this},this.prepend=function(a,b,c){if(!br.isEmpty(b)){var d=this.get(a);if(br.isArray(d)||(d=[]),br.isArray(b))for(var e in b)this.prepend(a,b[e],c);else{if(br.isNumber(c))for(;d.length>=c;)d.pop();d.unshift(b),this.set(a,d)}}return this},this.prependUnique=function(a,b,c){return br.isEmpty(b)||(this.remove(a,b),this.prepend(a,b,c)),this},this.each=function(a,b){var c=this.get(a);br.isArray(c)||(c=[]);for(var d=0;d<c.length;d++)b.call(this,c[d]);return this},this.getLast=function(a,c){return b(a,c,!1)},this.takeLast=function(a,c){return b(a,c,!0)},this.getFirst=function(a,b){return d(a,b,!1)},this.takeFirst=function(a,b){return d(a,b,!0)},this.extend=function(a,b){if(!br.isEmpty(b)){var c=this.get(a);if(br.isObject(c)||(c={}),br.isObject(b)){for(var d in b)c[d]=b[d];this.set(a,c)}}return this},this.not=function(a){var b=this.get(a);return br.isBoolean(b)||(b=!1),this.set(a,!b),this},this.clear=function(){return e.clear(),this},this.all=function(){var a={};for(var b in e)a[b]=this.get(b);return a},this.remove=function(a,b){var c=this.get(a);if(!br.isEmpty(b)&&br.isArray(c)){var d=c.indexOf(b);-1!=d&&c.splice(d,1),this.set(a,c)}else e.removeItem(a);return this},this.indexOf=function(a,b){var c=this.get(a);return br.isArray(c)?c.indexOf(b):-1}}var c={pack:function(a){return JSON.stringify(a)},unpack:function(a){try{return JSON.parse(a)}catch(b){return null}}};a.br=a.br||{},a.br.storage=new b(a.localStorage),a.br.session=new b(a.sessionStorage)}(window),function(a){function b(a){function b(a,b,d){var e,f=null,g=c.subscribers[a];if(g)switch(b){case"before":for(e=0;e<g.before.length;e++)g.before[e].apply(c.obj,d);break;case"on":for(e=0;e<g.on.length;e++)f=g.on[e].apply(c.obj,d);break;case"after":for(e=0;e<g.after.length;e++)g.after[e].apply(c.obj,d)}return f}var c=this;this.subscribers={},this.connections=[],this.obj=a||this,this.before=function(a,b){a=a.split(",");for(var d=0;d<a.length;d++)c.subscribers[a[d]]=c.subscribers[a[d]]||{on:[],before:[],after:[]},c.subscribers[a[d]].before.push(b)},this.on=function(a,b){a=a.split(",");for(var d=0;d<a.length;d++)c.subscribers[a[d]]=c.subscribers[a[d]]||{on:[],before:[],after:[]},c.subscribers[a[d]].on.push(b)},this.after=function(a,b){a=a.split(",");for(var d=0;d<a.length;d++)c.subscribers[a[d]]=c.subscribers[a[d]]||{on:[],before:[],after:[]},c.subscribers[a[d]].after.push(b)},this.connectTo=function(a){c.connections.push(a)},this.triggerEx=function(a,d,e){var f,g=[];for(f=0;f<e.length;f++)g.push(e[f]);"*"!=a&&b("*",d,g),g.splice(0,1);var h=b(a,d,g);for(f=0;f<c.connections.length;f++)c.connections[f].triggerEx(a,d,e);return h},this.triggerBefore=function(a){return this.triggerEx(a,"before",arguments)},this.trigger=function(a){return this.triggerEx(a,"on",arguments)},this.triggerAfter=function(a){return this.triggerEx(a,"after",arguments)}}a.br=a.br||{},a.br.eventQueue=function(a){return new b(a)}}(window),function(a){function b(){this.continueRoute=!0,this.get=function(a,b){var c,d=document.location.search.replace("?","").split("&"),e={};for(c=0;c<d.length;c++){var f=d[c].split("=");if(-1!=f[0].indexOf("[")){var g=f[0].substr(0,f[0].indexOf("["));e[g]=e[g]||[],e[g].push(unescape(f[1]))}else e[f[0]]=unescape(f[1])}if(a){for(c in e)if(c==a)return e[c];return b}return e},this.anchor=function(a){var b=document.location.hash.replace("#","");return 0===b.length&&(b=a),b},this.route=function(a,b){if(this.continueRoute){var c=document.location.toString();c=c.replace(/[?].*/,""),-1!=c.search(a)&&(this.continueRoute=!1,b.call())}return this}}a.br=a.br||{},a.br.request=new b}(window),function(a,b){function c(){var a=[];return this.get=function(b){return a[b]?a[b]:b},this.set=function(b,c){return a[b]=c,this},this}function d(a,c){var d="BrModified_Callbacks2",e="BrModified_LastCahange2";if(c&&(b.clearTimeout(a.data("BrModified_Timeout")),d="BrModified_Callbacks1",e="BrModified_LastCahange1"),a.data(e)!=a.val()){a.data(e,a.val());var f=a.data(d);if(f)for(var g in f)f[g].call(a)}}function e(a){d(a,!1),a.data("BrModified_Callbacks1")&&(b.clearTimeout(a.data("BrModified_Timeout")),a.data("BrModified_Timeout",b.setTimeout(function(){d(a,!0)},1e3)))}function f(b,c,f){a(b).each(function(){a(this).data("br-data-change-callbacks")||a(this).data("br-data-change-callbacks",[]);var b="BrModified_Callbacks2";f&&(b="BrModified_Callbacks1");var d=a(this).data(b);d||(d=[]),d.push(c),a(this).data(b,d)}),a(document).on("change",b,function(){e(a(this))}),a(document).on("keyup",b,function(b){13==b.keyCode?(d(a(this),!1),d(a(this),!0)):(8==b.keyCode||32==b.keyCode||91==b.keyCode||93==b.keyCode||b.keyCode>=48&&b.keyCode<=90||b.keyCode>=96&&b.keyCode<=111||b.keyCode>=186&&b.keyCode<=222)&&e(a(this))})}function g(){return l?br.closeConfirmationMessage:void(m=!0)}b.br=b.br||{};var h="",i=["vendor/jagermesh/bright/js/bright.min.js","vendor/jagermesh/bright/js/bright.js","bright/js/bright.min.js","bright/js/bright.js"];"undefined"==typeof b.br.frameworkUrl||i.push(b.br.frameworkUrl),a("script").each(function(){if(""===h){var b=a(this).attr("src");if(!br.isEmpty(b))for(var c in i){var d=b.indexOf(i[c]);-1!=d&&(h=b.substring(0,d))}}}),b.br.baseUrl=h;var j=!1;b.br.log=function(){if("undefined"!=typeof console){j||(console.log("*********************** LOG STARTED ***********************"),j=!0);for(var a in arguments)console.log(arguments[a])}},b.br.isTouchScreen=function(){var a=navigator.userAgent;return/iPad/i.test(a)||/iPhone/i.test(a)||/Android/i.test(a)},b.br.isiOS=function(){var a=navigator.userAgent;return/iPad/i.test(a)||/iPhone/i.test(a)},b.br.isAndroid=function(){var a=navigator.userAgent;return/android/i.test(a)},b.br.redirect=function(a){-1==a.search(/^\//)&&-1==a.search(/^http[s]?:\/\//)&&(a=this.baseUrl+a),document.location=a},b.br.refresh=function(){location.reload()};var k=new c;b.br.trn=function(a){return a?k.get(a):k},b.br.preloadImages=function(a){try{var b=document.createElement("div"),c=b.style;c.position="absolute",c.top=c.left=0,c.visibility="hidden",document.body.appendChild(b),b.innerHTML='<img src="'+a.join('" /><img src="')+'" />'}catch(d){}},b.br.randomInt=function(a,b){return void 0===b&&(b=a,a=0),Math.floor(Math.random()*(b-a+1))+a},b.br.forHtml=function(a){return a&&(a=a.split("<").join("&lt;").split(">").join("&gt;")),a},b.br.extend=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=b.prototype},b.br.openPage=function(a){var b=document.createElement("a");b.href=a,b.target="_blank",document.body.appendChild(b),b.click(),b.remove()},b.br.openPopup=function(a,c,d){null===c&&screen.width&&(c=screen.width>=1280?1e3:screen.width>=1024?800:600),null===d&&screen.height&&(d=screen.height>=900?700:screen.height>=800?600:500);var e=screen.width?(screen.width-c)/2:0,f="height="+d+",width="+c+",top=20,left="+e+",menubar=0,scrollbars=1,resizable=1",g=b.open(a,"_blank",f);g&&g.focus()},b.br.modifiedDeferred=function(a,b){f(a,b,!0)},b.br.modified=function(a,b){f(a,b,!1)},b.br.closeConfirmationMessage="Some changes have been made. Are you sure you want to close current window?";var l=!1,m=!1;a(b).on("beforeunload",function(){return g()}),b.br.isUnloading=function(a){return"undefined"==typeof a?m:void(m=a)},b.br.confirmClose=function(a){a&&(br.closeConfirmationMessage=a),l=!0,br.events.trigger("closeConfirmationRequested")},b.br.resetCloseConfirmation=function(){l=!1,br.events.trigger("closeConfirmationReset")},b.br.events=br.eventQueue(),b.br.backToCaller=function(a,b){var c=null!==self.opener;if(c){if(self.opener&&!self.opener.closed){self.opener.focus();try{b&&self.opener.document&&self.opener.document.location.reload()}catch(d){}}self.close()}else document.location=br.request.get("caller")?br.request.get("caller"):a},b.br.disableBounce=function(c){function d(){var c=a(b).height();e.css("height",c+"px"),e.css("overflow","auto")}var e=c;a("body").css("overflow","hidden"),d(),a(b).resize(function(){d()})},b.br.getSelection=function(){var a="";if("undefined"!=typeof b.getSelection){var c=b.getSelection();if(c.rangeCount){for(var d=document.createElement("div"),e=0,f=c.rangeCount;f>e;++e)d.appendChild(c.getRangeAt(e).cloneContents());a=d.innerHTML}}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(a=document.selection.createRange().htmlText);return a};var n;b.br.beep=function(a){try{var c=100;b.AudioContext=b.AudioContext||b.webkitAudioContext,n||(n=new AudioContext);var d=n.createOscillator();d.type=0,d.connect(n.destination),d.noteOn(0),setTimeout(function(){d.noteOff(0),a&&a()},c)}catch(e){br.log(e)}},b.br.load=b.br.resourceLoader=function(a){function b(b,c){var d,e=a.createElement(b);for(d in c)c.hasOwnProperty(d)&&e.setAttribute(d,c[d]);return e}function c(a){var b,c,d=i[a];d&&(b=d.callback,c=d.urls,c.shift(),j=0,c.length||(b&&b.call(d.context,d.obj),i[a]=null,k[a].length&&e(a)))}function d(){if(!g){var b=navigator.userAgent;g={async:a.createElement("script").async===!0},(g.webkit=/AppleWebKit\//.test(b))||(g.ie=/MSIE/.test(b))||(g.opera=/Opera/.test(b))||(g.gecko=/Gecko\//.test(b))||(g.unknown=!0)}}function e(e,j,l,m,n){var o,p,q,r,s=function(){c(e)},t="css"===e;if(d(),j)if(j="string"==typeof j?[j]:j.concat(),t||g.async||g.gecko||g.opera)k[e].push({urls:j,callback:l,obj:m,context:n});else for(o=0,p=j.length;p>o;++o)k[e].push({urls:[j[o]],callback:o===p-1?l:null,obj:m,context:n});if(!i[e]&&(r=i[e]=k[e].shift()))for(h||(h=a.head||a.getElementsByTagName("head")[0]),j=r.urls,o=0,p=j.length;p>o;++o)l=j[o],t?q=g.gecko?b("style"):b("link",{href:l,rel:"stylesheet"}):(q=b("script",{src:l}),q.async=!1),q.className="lazyload",q.setAttribute("charset","utf-8"),g.ie&&!t?q.onreadystatechange=function(){/loaded|complete/.test(q.readyState)&&(q.onreadystatechange=null,s())}:t&&(g.gecko||g.webkit)?g.webkit?(r.urls[o]=q.href,f()):(q.innerHTML='@import "'+l+'";',c("css")):q.onload=q.onerror=s,h.appendChild(q)}function f(){var a,b=i.css;if(b){for(a=l.length;--a>=0;)if(l[a].href===b.urls[0]){c("css");break}j+=1,b&&(200>j?setTimeout(f,50):c("css"))}}var g,h,i={},j=0,k={css:[],js:[]},l=a.styleSheets;return{css:function(a,b,c,d){e("css",a,b,c,d)},js:function(a,b,c,d){e("js",a,b,c,d)}}}(document)}(jQuery,window),function(a){function b(a,b){var c=[];this.append=function(d){a?br.storage.appendUnique(b,d):this.isFlagged(d)||c.push(d)},this.isFlagged=function(d){return a?-1!=br.storage.indexOf(b,d):-1!=c.indexOf(d)},this.remove=function(d){if(a)br.storage.remove(b,d);else{var e=c.indexOf(d);-1!=e&&c.splice(e,1)}},this.clear=function(){this.replace([])},this.replace=function(d){return a?br.storage.set(b,d):c=d},this.get=function(){return a?br.storage.get(b,[]):c}}a.br=a.br||{},a.br.flagsHolder=function(a,c){return new b(a,c)}}(window),function(a,b){function c(c,d){var e=this;this.ajaxRequest=null,this.name="-",this.options=d||{},this.options.restServiceUrl=c,this.options.refreshDelay=this.options.refreshDelay||500,"/"!=this.options.restServiceUrl.charAt(this.options.restServiceUrl.length-1)&&(this.options.restServiceUrl=this.options.restServiceUrl+"/"),this.options.offlineMode&&(this.db=TAFFY(),this.db.store("taffy-db-"+name)),this.events=br.eventQueue(this),this.before=function(a,b){this.events.before(a,b)},this.on=function(a,b){this.events.on(a,b)},this.after=function(a,b){this.events.after(a,b)},this.insert=function(b,c){function d(a){var b;e.options.crossdomain?"string"==typeof a?(b=!1,e.events.trigger("error","insert",a.length>0?a:"Empty response. Was expecting new created records with ROWID.")):(b=!0,e.events.trigger("insert",a)):a?(b=!0,e.events.trigger("insert",a)):(b=!1,e.events.trigger("error","insert","Empty response. Was expecting new created records with ROWID.")),e.events.triggerAfter("insert",b,a,f),b&&e.events.trigger("change","insert",a),"function"==typeof c&&c.call(e,b,a,f)}var f=b;try{e.events.triggerBefore("insert",f),this.options.crossdomain&&(f.crossdomain="put"),e.options.offlineMode?(e.db.insert(f),f.rowid=f.___id,f.syncState="n",d(f)):a.ajax({type:this.options.crossdomain?"GET":"PUT",data:f,dataType:this.options.crossdomain?"jsonp":"json",url:this.options.restServiceUrl+(this.options.authToken?"?token="+this.options.authToken:""),success:function(a){d(a)},error:function(a){if(br.isUnloading());else{var b=br.isEmpty(a.responseText)?a.statusText:a.responseText;e.events.trigger("error","insert",b),e.events.triggerAfter("insert",!1,b,f),"function"==typeof c&&c.call(e,!1,b,f)}}})}catch(g){br.log(g),e.events.trigger("error","insert",g),e.events.triggerAfter("insert",!1,g,f),"function"==typeof c&&c.call(e,!1,g,f)}},this.update=function(b,c,d){function f(a){var f="update";if(a){var h=e.events.trigger("removeAfterUpdate",c,a);null!==h&&h?(f="remove",e.events.trigger("remove",b)):e.events.trigger("update",a,b)}e.events.triggerAfter(f,!0,a,g),e.events.trigger("change",f,a),"function"==typeof d&&d.call(e,!0,a,g)}var g=c;e.events.triggerBefore("update",g,b),e.options.offlineMode?(e.db({rowid:b}).update(g),f(g)):a.ajax({type:"POST",data:g,dataType:"json",url:this.options.restServiceUrl+b+(this.options.authToken?"?token="+this.options.authToken:""),success:function(a){f(a)},error:function(a){if(br.isUnloading());else{var b=br.isEmpty(a.responseText)?a.statusText:a.responseText;e.events.trigger("error","update",b),e.events.triggerAfter("update",!1,b,g),"function"==typeof d&&d.call(e,!1,b,g)}}})},this.remove=function(b,c){function d(a){e.events.trigger("remove",b),e.events.triggerAfter("remove",!0,a,f),e.events.trigger("change","remove",a),"function"==typeof c&&c.call(e,!0,a,f)}var f={};if(e.events.triggerBefore("remove",null,b),e.options.offlineMode){var g=e.db({rowid:b}).get();e.db({rowid:b}).remove(),d(g)}else a.ajax({type:"DELETE",data:f,dataType:"json",url:this.options.restServiceUrl+b+(this.options.authToken?"?token="+this.options.authToken:""),success:function(a){d(a)},error:function(a){if(br.isUnloading());else{var b=br.isEmpty(a.responseText)?a.statusText:a.responseText;e.events.trigger("error","remove",b),e.events.triggerAfter("remove",!1,b,f),"function"==typeof c&&c.call(e,!1,b,f)}}})},this.selectCount=function(a,b,c){"function"==typeof a&&(c=b,b=a);var d={};for(var e in a)d[e]=a[e];d.__result="count",c=c||{},c.result="count",this.select(d,b,c)},this.selectOne=function(a,b,c){return this.select({rowid:a?a:"-"},b,c)},this.select=function(b,c,d){function f(a){i||(e.events.trigger("select",a),e.events.triggerAfter("select",!0,a,j)),"function"==typeof c&&c.call(e,!0,a,j)}function g(a){i||(e.events.trigger("error","select",a),e.events.triggerAfter("select",!1,a,j)),"function"==typeof c&&c.call(e,!1,a,j)}var h,i=d&&d.disableEvents,j={};if("function"==typeof b)d=c,c=b;else if(b)for(var k in b)"rowid"!=k?j[k]=b[k]:h=b[k];d=d||{};var l=this.options.restServiceUrl;h&&(l+=h);var m=!0;if(!i)try{e.events.triggerBefore("select",j,d)}catch(n){br.log(n),m=!1}m&&(this.options.limit&&(j.__limit=this.options.limit),d&&d.skip&&(j.__skip=d.skip),d&&d.limit&&(j.__limit=d.limit),d&&d.fields&&(j.__fields=d.fields),d&&d.order&&(j.__order=d.order),d&&d.page&&(j.__page=d.page),this.options.crossdomain&&(j.crossdomain="get"),e.options.offlineMode?f(e.db(j).get()):this.ajaxRequest=a.ajax({type:"GET",data:j,dataType:this.options.crossdomain?"jsonp":"json",url:l+(this.options.authToken?"?token="+this.options.authToken:""),success:function(a){e.ajaxRequest=null,e.options.crossdomain&&"string"==typeof a?g("",a):a?f(a):g("",a)},error:function(a){if(br.isUnloading());else{e.ajaxRequest=null;var b=br.isEmpty(a.responseText)?a.statusText:a.responseText;g(b,a)}}}))},this.requestInProgress=function(){return null!==this.ajaxRequest},this.abortRequest=function(){null!==this.ajaxRequest&&this.ajaxRequest.abort()},this.invoke=function(b,c,d){var f={};"function"==typeof c?d=c:f=c,e.events.triggerBefore(b,f),this.options.crossdomain&&(f.crossdomain="post"),a.ajax({type:this.options.crossdomain?"GET":"POST",data:f,dataType:this.options.crossdomain?"jsonp":"json",url:this.options.restServiceUrl+b+(this.options.authToken?"?token="+this.options.authToken:""),success:function(a){e.options.crossdomain&&"string"==typeof a?(e.events.trigger("error",b,a),e.events.triggerAfter(b,!1,a,f),"function"==typeof d&&d.call(e,!1,a,f)):(e.events.trigger(b,a,c),e.events.triggerAfter(b,!0,a,f),"function"==typeof d&&d.call(e,!0,a,f))},error:function(a){if(br.isUnloading());else{var c=br.isEmpty(a.responseText)?a.statusText:a.responseText;e.events.trigger("error",b,c),e.events.triggerAfter(b,!1,c,f),"function"==typeof d&&d.call(e,!1,c,f)}}})},this.fillCombo=function(b,c,d){d=d||{};var e=d.valueField||"rowid",f=d.nameField||"name",g=d.hideEmptyValue||!1,h=d.emptyValue||"--any--",i=d.selectedValue||null,j=d.selectedValueField||null;a(b).each(function(){var b=a(this).val();br.isEmpty(b)&&(b=a(this).attr("data-value"),a(this).removeAttr("data-value")),a(this).html("");var d="";g||(d=d+'<option value="">'+h+"</option>");for(var k in c)!i&&j&&"1"==c[k][j]&&(i=c[k][e]),d=d+'<option value="'+c[k][e]+'">'+c[k][f]+"</option>";a(this).html(d),br.isEmpty(i)||(b=i),br.isEmpty(b)||a(this).find("option[value="+b+"]").attr("selected","selected")})};var f;this.deferredSelect=function(a,c,d){d=d||this.options.refreshDelay;var g={};for(var h in a)g[h]=a[h];b.clearTimeout(f),f=b.setTimeout(function(){e.select(g,c)},d)}}b.br=b.br||{},b.br.dataSource=function(a,b){return new c(a,b)}}(jQuery,window),function(a,b){function c(b,c,d,e){var f=this;this.selector=b,this.options=e||{},this.options.templates=this.options.templates||{},this.options.templates.row=a(c).html(),this.options.templates.groupRow=this.options.templates.groupRow?a(this.options.templates.groupRow).html():"",this.options.templates.header=this.options.templates.header?a(this.options.templates.header).html():"",this.options.templates.footer=this.options.templates.footer?a(this.options.templates.footer).html():"",this.options.templates.noData=this.options.templates.noData?a(this.options.templates.noData).html():"",this.options.dataSource=d,this.options.selectors=this.options.selectors||{},this.options.selectors.header=this.options.selectors.header||this.options.headersSelector||this.selector,this.options.selectors.footer=this.options.selectors.footer||this.options.footersSelector||this.selector,this.options.selectors.remove=this.options.selectors.remove||this.options.deleteSelector||".action-delete",this.dataSource=this.options.dataSource,this.storageTag=document.location.pathname+this.dataSource.options.restServiceUrl,this.events=br.eventQueue(this),this.before=function(a,b){this.events.before(a,b)},this.on=function(a,b){this.events.on(a,b)},this.after=function(a,b){this.events.after(a,b)};var g=!1,h=!1;return this.after("insert",function(a){f.events.trigger("change",a,"insert"),f.events.triggerAfter("change",a,"insert")}),this.after("update",function(a){f.events.trigger("change",a,"update"),f.events.triggerAfter("change",a,"update")}),this.after("remove",function(a){f.events.trigger("change",a,"remove"),f.events.triggerAfter("change",a,"remove")}),this.renderHeader=function(b){return b=f.events.trigger("renderHeader",b)||b,a(br.fetch(f.options.templates.header,b))},this.renderFooter=function(b){return b=f.events.trigger("renderFooter",b)||b,a(br.fetch(f.options.templates.footer,b))},this.renderRow=function(b){b=f.events.trigger("renderRow",b)||b;var c=a(br.fetch(f.options.templates.row,b));return c.data("data-row",b),c},this.renderGroupRow=function(b){b=f.events.trigger("renderGroupRow",b)||b;var c=a(br.fetch(f.options.templates.groupRow,b));return c.data("data-row",b),c},this.prepend=function(b){return a(f.selector).prepend(b)},this.append=function(b){return a(f.selector).append(b)},this.insertDataRowAfter=function(b,c){f.events.triggerBefore("insert",b);var d=f.renderRow(b);return f.events.trigger("insert",b,d),a(d).insertAfter(c),f.events.triggerAfter("insert",b,d),d},this.addDataRow=function(a){f.events.triggerBefore("insert",a);var b=f.renderRow(a);return f.events.trigger("insert",a,b),f.options.appendInInsert?f.append(b):f.prepend(b),f.events.triggerAfter("insert",a,b),b},this.reloadRow=function(a){f.dataSource.selectOne(a,function(a,b){a&&(f.refreshRow(b)||f.addDataRow(b))},{disableEvents:!0})},this.refreshRow=function(b){var c=a(f.selector).find("[data-rowid="+b.rowid+"]");if(1==c.length){var d=f.renderRow(b),e=d.html();if(d.remove(),e.length>0){f.events.triggerBefore("update",b);var g=a(c[0]);return f.events.trigger("update",b,g),g.html(e),g.data("data-row",b),f.events.triggerAfter("update",b,g),!0}return!1}return!1},this.getOrder=function(){var a=f.getOrderAndGroup(),b={};if(br.isArray(a))for(var c=0;c<a.length;c++)b[a[c].fieldName]=a[c].asc?1:-1;return b},this.setOrderAndGroup=function(a){br.storage.set(this.storageTag+"orderAndGroup",a)},this.getOrderAndGroup=function(){return br.storage.get(this.storageTag+"orderAndGroup",[])},this.loadMore=function(){h||g||(g=!0,f.dataSource.select({},function(){g=!1},{loadingMore:!0}))},this.init=function(){function b(){return 0===a(f.selector).find("[data-rowid]").length}function c(){b()&&(f.events.triggerBefore("nodata"),a(f.selector).html(f.options.templates.noData),f.events.trigger("nodata"),f.events.triggerAfter("nodata"))}var d=f.getOrderAndGroup();if(br.isArray(d))for(i=0;i<d.length;i++)a('.sortable[data-field="'+d[i].fieldName+'"].'+(d[i].asc?"order-asc":"order-desc"),a(this.options.selectors.header)).addClass("icon-white").addClass("icon-border");a(".sortable",a(f.options.selectors.header)).each(function(){a(this).attr("data-sort-order")||a(this).attr("data-no-sort-order",!0)}),a(this.options.selectors.header).on("click",".sortable",function(){var b=a(this).hasClass("icon-white")||a(this).hasClass("icon-border");br.isEmpty(a(this).attr("data-sort-order"))?a(".sortable",a(f.options.selectors.header)).removeClass("icon-white").removeClass("icon-border"):a(".sortable[data-no-sort-order]",a(f.options.selectors.header)).removeClass("icon-white").removeClass("icon-border"),b?a(this).removeClass("icon-white").removeClass("icon-border"):(a(this).siblings("i").removeClass("icon-white").removeClass("icon-border"),a(this).addClass("icon-white").addClass("icon-border"));var c=[],d=0;a(".sortable",a(f.options.selectors.header)).each(function(){if(a(this).hasClass("icon-white")||a(this).hasClass("icon-border")){var b=br.isEmpty(a(this).attr("data-order-index"))?d:br.toInt(a(this).attr("data-order-index"));d=b+1,c.push({fieldName:a(this).attr("data-field"),asc:a(this).hasClass("order-asc"),group:a(this).hasClass("group-by"),index:b})}}),c.sort(function(a,b){return a.index<b.index?-1:a.index<b.index?1:0}),f.setOrderAndGroup(c),f.events.triggerBefore("changeOrder",c),f.dataSource.select()}),f.dataSource&&(f.dataSource.before("select",function(a,b){b.order=f.getOrder()}),f.dataSource.after("select",function(b,c){a(f.selector).removeClass("progress-big"),b&&(h=0===c.length,f.render(c,g))}),f.dataSource.after("insert",function(c,d){c&&(b()&&a(f.selector).html(""),f.addDataRow(d))}),f.dataSource.on("update",function(a){f.refreshRow(a)||f.dataSource.select()}),f.dataSource.on("remove",function(b){var d=a(f.selector).find("[data-rowid="+b+"]");d.length>0?br.isTouchScreen()?(f.events.triggerBefore("remove",b),f.events.trigger("remove",b,d),d.remove(),c(),f.events.triggerAfter("remove",b,d)):(f.events.triggerBefore("remove",b),d.fadeOut(function(){f.events.trigger("remove",b,a(this)),a(this).remove(),f.events.triggerAfter("remove",b,a(this)),c()})):f.dataSource.select()}),this.options.selectors.remove&&a(f.selector).on("click",this.options.selectors.remove,function(){var b=a(this).closest("[data-rowid]");if(b.length>0){var c=a(b).attr("data-rowid");br.isEmpty(c)||br.confirm("Delete confirmation","Are you sure you want delete this record?",function(){f.dataSource.remove(c)})}}))},this.render=function(b,c){var d=a(f.selector);if(f.events.triggerBefore("change",b,"render"),b){var e,g,h;if(c||d.html(""),f.options.freeGrid){if(b.headers)for(e in b.headers)b.headers[e]&&a(f.options.selectors.header).append(f.renderHeader(b.headers[e]));if(b.footers)for(e in b.footers)b.footers[e]&&a(f.options.selectors.footer).append(f.renderFooter(b.headers[e]));if(a(f.options.selectors.header).html(""),a(f.options.selectors.footer).html(""),b.rows)if(0===b.rows.length)d.html(this.options.templates.noData);else for(e in b.rows)b.rows[e]&&(b.rows[e].row&&d.append(f.renderRow(b.rows[e].row)),b.rows[e].header&&a(f.options.selectors.header).append(f.renderHeader(b.rows[e].header)),b.rows[e].footer&&a(f.options.selectors.footer).append(f.renderFooter(b.rows[e].footer)));else d.html(this.options.templates.noData)}else if(b&&b.length>0){var i=f.getOrderAndGroup(),j={},k="";for(e in b)if(b[e]){if(br.isArray(i)){for(h=0;h<i.length;h++)if(k=i[h].fieldName,i[h].group&&j[k]!=b[e][k]){for(g=h;g<i.length;g++)k=i[g].fieldName,j[k]=void 0;break}for(h=0;h<i.length;h++)if(k=i[h].fieldName,i[h].group&&j[k]!=b[e][k]){j[k]=b[e][k];var l=b[e];l.__groupBy={},l.__groupBy.__field=k,l.__groupBy.__value=b[e][k],l.__groupBy[k]=!0,d.append(f.renderGroupRow(l))}}d.append(f.renderRow(b[e]))}}else c||d.html(this.options.templates.noData)}else d.html(this.options.templates.noData);f.events.trigger("change",b,"render"),f.events.triggerAfter("change",b,"render")},this.init()}b.br=b.br||{},b.br.dataGrid=function(a,b,d,e){return new c(a,b,d,e)}}(jQuery,window),function(a,b){function c(c,d,e){function f(b){var c=a(b).attr("data-storage-key");return br.isEmpty(c)&&(c=":"),document.location.pathname+":filter-value:"+a(b).attr("name")+c}function g(){j.isValid()&&b.Select2&&!j.noDecoration&&!j.selector.attr("size")&&j.selector.select2()}function h(a){var b="";if(b=b+'<option value="'+a[j.options.valueField]+'">',br.isEmpty(j.options.levelField));else for(var c=4*(br.toInt(a[j.options.levelField])-1),d=0;c>d;d++)b+="&nbsp;";return b+=a[j.options.nameField],b+="</option>"}function i(b){j.isValid()&&(j.saveSelection&&(j.options.selectedValue=br.storage.get(f(j.selector))),j.selector.each(function(){var c=a(this).val();br.isEmpty(c)&&(c=a(this).attr("data-value"),a(this).removeAttr("data-value")),a(this).html("");var d="",e={};e.data=b,j.options.hideEmptyValue||(e.s=d,j.events.triggerBefore("generateEmptyOption",e,a(this)),d=e.s,d=d+'<option value="'+j.options.emptyValue+'">'+j.options.emptyName+"</option>"),e.s=d,j.events.triggerBefore("generateOptions",e,a(this)),d=e.s;for(var f in b)if(d+=h(b[f]),br.isEmpty(j.options.selectedValue)&&!br.isEmpty(j.options.selectedValueField)){var g=b[f][j.options.selectedValueField];(br.isBoolean(g)&&g||1==br.toInt(g))&&(j.options.selectedValue=b[f][j.options.valueField])}a(this).html(d),br.isEmpty(j.options.selectedValue)||a(this).find("option[value="+j.options.selectedValue+"]").attr("selected","selected")}),g()),j.events.trigger("load",b)}var j=this;this.selector=a(c),this.dataSource=d,this.options=e||{},this.options.valueField=this.options.valueField||"rowid",this.options.nameField=this.options.nameField||"name",this.options.levelField=this.options.levelField||null,this.options.selectedValue=this.options.selectedValue||null,this.options.selectedValueField=this.options.selectedValueField||null,this.options.hideEmptyValue=this.options.hideEmptyValue||"multiple"==this.selector.attr("multiple"),this.options.emptyName="undefined"==typeof this.options.emptyName?"--any--":this.options.emptyName,this.options.emptyValue="undefined"==typeof this.options.emptyValue?"":this.options.emptyValue,this.loaded=!1,this.fields=this.options.fields||{},this.saveSelection=this.options.saveSelection||!1,this.selectedValueField=this.options.selectedValueField||null,this.noDecoration=this.options.noDecoration,this.events=br.eventQueue(this),this.before=function(a,b){this.events.before(a,b)},this.on=function(a,b){this.events.on(a,b)},this.after=function(a,b){this.events.after(a,b)},this.isValid=function(){return j.selector.length>0},this.isLoaded=function(){return j.loaded},this.val=function(a){return void 0!==a&&(j.saveSelection&&br.storage.set(f(j.selector),a),j.isValid()&&(j.selector.val(a),g())),j.isValid()?j.selector.val():void 0},this.valOrNull=function(){if(j.isValid()){var a=this.val();return br.isEmpty(a)?null:a}return void 0},this.reset=function(a){br.storage.remove(f(this.selector)),j.isValid()&&(this.selector.val(""),a?j.selector.trigger("change"):g())},this.selector.on("reset",function(){j.reset()}),j.load=j.reload=function(a,b){"function"==typeof a&&(b=a,a={}),j.dataSource&&j.dataSource.select(a,function(a,c){a&&(b&&b.call(j.selector,a,c),g(),j.loaded=!0)},{fields:j.fields})},j.dataSource?(j.dataSource.on("select",function(a){i(a)}),j.dataSource.after("insert",function(b,c){b&&j.isValid()&&(j.selector.append(a(h(c))),g()),j.events.trigger("change")}),j.dataSource.after("update",function(a,b){a&&j.isValid()&&b[j.options.valueField]&&(j.selector.find("option[value="+b[j.options.valueField]+"]").text(b[j.options.nameField]),g()),j.events.trigger("change")}),j.dataSource.after("remove",function(a,b){a&&j.isValid()&&b[j.options.valueField]&&(j.selector.find("option[value="+b[j.options.valueField]+"]").remove(),g()),j.events.trigger("change")})):j.saveSelection&&(j.options.selectedValue=br.storage.get(f(j.selector)),br.isEmpty(j.options.selectedValue)||j.val(j.options.selectedValue)),j.selector.change(function(){j.saveSelection&&br.storage.set(f(this),a(this).val()),j.events.trigger("change"),g()})}b.br=b.br||{},b.br.dataCombo=function(a,b,d){return new c(a,b,d)}}(jQuery,window),function(a,b){function c(b,c){var d=this;d.ctrl=a(b),br.isFunction(c)&&(c={onSave:c}),c=c||{},d.options=c,d.editor=null,d.savedWidth="",d.click=function(){if(!d.activated()){var b="";b="undefined"!=typeof d.ctrl.attr("data-editable")?d.ctrl.attr("data-editable"):d.ctrl.text(),d.ctrl.data("brEditable-original-content",d.ctrl.text()),d.ctrl.data("brEditable-original-width",d.ctrl.css("width"));
{var c=d.ctrl.innerWidth();d.ctrl.innerHeight()}d.ctrl.text(""),d.editor=a('<input type="text" />'),d.ctrl.attr("data-editable-style")&&d.editor.attr("style",d.ctrl.attr("data-editable-style")),d.editor.addClass("form-control"),d.editor.css("width","100%"),br.isEmpty(d.editor.css("height"))&&d.editor.css("height","100%"),d.editor.css("min-height","30px"),d.editor.css("font-size",d.ctrl.css("font-size")),d.editor.css("font-weight",d.ctrl.css("font-weight")),d.editor.css("box-sizing","100%"),d.editor.css("-webkit-box-sizing","border-box"),d.editor.css("-moz-box-sizing","border-box"),d.editor.css("-ms-box-sizing","border-box"),d.editor.css("margin-top","2px"),d.editor.css("margin-bottom","2px"),d.ctrl.append(d.editor),d.options.onGetContent&&(b=d.options.onGetContent.call(d.ctrl,d.editor,b)),d.editor.val(b),d.ctrl.css("width",c-10),d.editor.focus(),d.editor.attr("data-original-title","Press [Enter] to save changes, [Esc] to cancel changes."),d.editor.tooltip({placement:"bottom",trigger:"focus"}),d.editor.tooltip("show"),a(d.editor).keyup(function(b){if(13==b.keyCode){var c=a(this).val();d.options.onSave?(d.editor.tooltip("hide"),d.options.onSave.call(d.ctrl,c)):d.apply(c)}27==b.keyCode&&d.cancel()})}},d.activated=function(){return null!==d.editor},d.apply=function(a){d.editor.tooltip("hide"),d.editor.remove(),d.editor=null,d.ctrl.text(a),"undefined"!=typeof d.ctrl.attr("data-editable")&&d.ctrl.attr("data-editable",a),d.ctrl.css("width","")},d.cancel=function(){d.editor.tooltip("hide"),d.editor.remove(),d.editor=null,d.ctrl.text(d.ctrl.data("brEditable-original-content")),d.ctrl.css("width","")}}b.br=b.br||{},b.br.editable=function(b,d,e){if("string"==typeof d){var f=a(b).data("brEditable-editable");f||a(b).data("brEditable-editable",f=new c(a(b),d)),f&&f[d](e)}else a(document).on("click",b,function(b){var e=a(this),f=e.data("brEditable-editable");f||e.data("brEditable-editable",f=new c(this,d)),f.click(b)})}}(jQuery,window),function(a,b){b.br=b.br||{},b.br.showError=function(a){alert(a)},b.br.growlError=function(c,d){br.isEmpty(c)||("undefined"!=typeof a.gritter?a.gritter.add({title:br.trn("Error"),text:c,class_name:"gritter-red",image:d}):"undefined"!=typeof b.humane?humane.log(c,{addnCls:"humane-jackedup-error humane-original-error",timeout:5e3}):alert(c))},b.br.showMessage=function(a){br.isEmpty(a)||alert(a)},b.br.growlMessage=function(c,d,e){br.isEmpty(c)||("undefined"!=typeof a.gritter?(br.isEmpty(d)&&(d=" "),a.gritter.add({title:d,text:c,class_name:"gritter-light",image:e})):"undefined"!=typeof b.humane?humane.log(c):alert(c))},b.br.panic=function(b){throw a(".container").html('<div class="row"><div class="span12"><div class="alert alert-error"><h4>'+br.trn("Error")+"!</h4><p>"+b+"</p></div></div></div>"),""},b.br.confirm=function(b,c,d,e,f){"function"==typeof d&&(f=e,e=d,d=null),f=f||{},f.cancelTitle=f.cancelTitle||br.trn("Cancel");var g='<div class="modal';if(f.cssClass&&(g=g+" "+f.cssClass),g=g+'"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">'+b+'</h3></div><div class="modal-body">'+c+'</div><div class="modal-footer">',f.showDontAskMeAgain){var h=f.dontAskMeAgainTitle?f.dontAskMeAgainTitle:br.trn("Don't ask me again");g=g+'<label style="text-align: left; float: left;" class="checkbox"><input name="showDontAskMeAgain" type="checkbox" value="1"> '+h+"</label>"}if(br.isEmpty(d))g=g+'<a href="javascript:;" class="btn btn-primary action-confirm-close" rel="confirm">&nbsp;'+br.trn("Yes")+"&nbsp;</a>";else for(var i in d)g=g+'<a href="javascript:;" class="btn btn-default action-confirm-close" rel="'+i+'">&nbsp;'+d[i]+"&nbsp;</a>";g=g+'<a href="javascript:;" class="btn btn-default action-confirm-cancel">&nbsp;'+f.cancelTitle+"&nbsp;</a>",g+="</div></div></div></div>";var j=a(g),k=function(){a(this).find(".action-confirm-close").click(function(){f.showDontAskMeAgain?e.call(j,a(this).attr("rel"),a("input[name=showDontAskMeAgain]",a(j)).is(":checked")):e.call(j,a(this).attr("rel")),a(j).modal("hide")}),a(this).find(".action-confirm-cancel").click(function(){f.onCancel&&f.onCancel.call(j),a(j).modal("hide")})},l=function(){j.remove()};a(j).on("show.bs.modal",k),a(j).on("hide.bs.modal",l),a(j).modal()},b.br.error=function(b,c,d){var e='<div class="modal"><div class="modal-dialog"><div class="modal-content">';""!==b&&(e=e+'<div class="modal-header"><a class="close" data-dismiss="modal">×</a><h3 class="modal-title">'+b+"</h3></div>"),e=e+'<div class="modal-body">'+c+'</div><div class="modal-footer" style="background-color:red;"><a href="javascript:;" class="btn btn-default" data-dismiss="modal">&nbsp;'+br.trn("Dismiss")+"&nbsp;</a></div></div></div></div>";var f=a(e),g=function(){f.remove(),d&&d.call(this)};a(f).on("hide.bs.modal",g),a(f).modal()},b.br.inform=function(b,c,d){var e='<div class="modal"><div class="modal-dialog"><div class="modal-content">';""!==b&&(e=e+'<div class="modal-header"><a class="close" data-dismiss="modal">×</a><h3 class="modal-title">'+b+"</h3></div>"),e=e+'<div class="modal-body">'+c+'</div><div class="modal-footer"><a href="javascript:;" class="btn btn-default" data-dismiss="modal">&nbsp;'+br.trn("Dismiss")+"&nbsp;</a></div></div></div></div>";var f=a(e),g=function(){f.remove(),d&&d.call(this)};a(f).on("hide.bs.modal",g),a(f).modal()},b.br.prompt=function(b,c,d,e){e=e||{};var f='<div class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><a class="close" data-dismiss="modal">×</a><h3>'+b+'</h3></div><div class="modal-body">',g={};br.isObject(c)?g=c:g[c]="";for(var h in g)f=br.isObject(g[h])?f+"<label>"+h+'</label><input type="text" '+(g[h].id?'id="'+g[h].id+'"':"")+' class="span4 '+(br.isEmpty(g[h]["class"])?"":g[h]["class"])+'" value="'+g[h].value+'" data-click-on-enter=".action-confirm-close" />':f+"<label>"+h+'</label><input type="text" class="span4" value="'+g[h]+'" data-click-on-enter=".action-confirm-close" />';f+='</div><div class="modal-footer">',f+='<a href="javascript:;" class="btn btn-primary action-confirm-close" rel="confirm" >Ok</a>',f=f+'<a href="javascript:;" class="btn btn-default" data-dismiss="modal">&nbsp;'+br.trn("Cancel")+"&nbsp;</a>",f+="</div></div></div></div>";var i=a(f);a(i).on("shown",function(){a(this).find("input[type=text]")[0].focus()}).on("show",function(){a(this).find(".action-confirm-close").click(function(){a(i).modal("hide");var b=[];a(this).closest("div.modal").find("input[type=text]").each(function(){b.push(a(this).val())}),d.call(this,b)})}).on("hide",function(){i.remove(),e.onhide&&e.onhide.call(this)}),a(i).modal()};var c=!1;b.br.fetch=function(a,d){if(d=d||{},!a)return"";if("undefined"!=typeof b.Mustache)return Mustache.render(a,d);if("undefined"!=typeof b.Handlebars){var e=Handlebars.compile(a);return e(d)}c||(c=!0,this.showError("Template engine not found. Please link bright/3rdparty/mustache.js or bright/3rdparty/handlebars.js."))};var d=0;b.br.showAJAXProgress=function(){d++,a(".ajax-in-progress").css("visibility","visible")},b.br.hideAJAXProgress=function(){d--,0>=d&&(a(".ajax-in-progress").css("visibility","hidden"),d=0)},b.br.jsonEncode=function(a){return JSON.stringify(a)},b.br.jsonDecode=function(a){try{return JSON.parse(a)}catch(b){return null}};var e=0,f=0,g='<div id="br_progressBar" class="modal" style="display:none;" data-backdrop="static">  <div class="modal-dialog">    <div class="modal-content">      <div class="modal-header" style="display:none;">        <h3 id="br_progressMessage">Working...</h3>      </div>      <div class="modal-body">        <div class="progress" style="margin-bottom:0px;">          <div class="progress-bar progress-bar-striped progress progress-striped active br-progress-bar" role="progressbar">            <div class="bar br-progress-bar" style="width: 0%;transition:none;-webkit-transition:none;"></div>            <span class="sr-only">&nbsp;</span>          </div>        </div>      </div>    </div>  </div></div>';b.br.startProgress=function(b,c){e=b,f=0,0===a("#br_progressBar").length&&a("body").append(a(g)),c&&(a("#br_progressMessage").text(c),a("#br_progressBar .modal-header").show()),a(".br-progress-bar").css("width","0%"),a("#br_progressBar").modal("show")},b.br.hideProgress=function(){a("#br_progressBar").modal("hide")},b.br.stepProgress=function(b){b&&(a("#br_progressMessage").text(b),a("#br_progressBar .modal-header").show()),f++;var c=Math.round(100*f/e);a(".br-progress-bar").css("width",c+"%")},a(document).ready(function(){var c=!1;if(a(document).ajaxStart(function(){br.showAJAXProgress()}),a(document).ajaxStop(function(){br.hideAJAXProgress()}),a(document).ajaxError(function(a,b){401==b.status&&(c||(c=!0,br.growlError(br.trn("You are trying to run operation which require authorization."))))}),a(document).on("keypress","input[data-click-on-enter]",function(b){13==b.keyCode&&a(a(this).attr("data-click-on-enter")).trigger("click")}),a(".focused").length>0)try{a(".focused")[0].focus()}catch(d){}if(!br.isTouchScreen){var e=a("body").attr("data-disable-bounce-container");br.isEmpty(e)||br.disableBounce(a(e))}a(".br-scrollable").each(function(){function c(){var c=a("nav.navbar");0===c.length&&(c=a("div.navbar"));var f=0;0!==c.length&&(f=c.height());var g=a(b).height()-f-e;if(g>0){var h=0;h=c.length>0?"static"==c.css("position")?e:f+e:e,d.css("margin-top",h+"px"),d.css("height",g+"px")}}var d=a(this).parent(".br-container"),e=d.offset().top;a("body").css("overflow","hidden"),a(b).on("resize",function(){c()}),c()})})}(jQuery,window),function(a,b){b.br=b.br||{};var c=[];a(document).ready(function(){a("body").on("paste",function(a){function b(a,b){var d=new FileReader;d.onload=function(b){var d=/^data[:](.+?)\/(.+?);/.exec(b.target.result),e="other",f="binary";d&&(e=d[1],f=d[2]),a.dataType=e,a.dataSubType=f,a.dataValue=b.target.result,a.data[e]=a.data[e]||{},a.data[e][f]=b.target.result;for(var g=0;g<c.length;g++)c[g].call(b,a)},d.readAsDataURL(b)}function d(a,b,c,d){var e=b.getData(c);if(e&&e.length>0){d&&(c="image/url");var f=/^(.+?)\/(.+?)$/.exec(c),g="other",h="binary";return f&&(g=f[1],h=f[2]),a.dataType=g,a.dataSubType=h,a.dataValue=e,d&&(a.data[g]=a.data[g]||{},a.data[g][h]=e),!0}return!1}var e={data:{},dataType:"",dataSubType:"",dataValue:""};if(a=a.originalEvent,a.clipboardData){var f;for(f=0;f<a.clipboardData.types.length;f++){var g=a.clipboardData.types[f],h=/^(.+?)\/(.+?)$/.exec(g),i="other",j=g;h&&(i=h[1],j=h[2]),e.data[i]=e.data[i]||{},e.data[i][j]=a.clipboardData.getData(g)}var k=!0;if(d(e,a.clipboardData,"public.url",!0));else if(d(e,a.clipboardData,"text/html"))e.dataValue=e.dataValue.replace(/<(html|body|head|meta|link)[^>]*?>/g,"").replace(/<\/(html|body|head|meta|link)[^>]*?>/g,"");else if(d(e,a.clipboardData,"text/plain"));else{if(a.clipboardData.items&&a.clipboardData.items.length>0)for(f=0;f<a.clipboardData.items.length;f++)a.clipboardData.items[f].type.match("image.*")&&(k=!1,b(e,a.clipboardData.items[f].getAsFile()));if(a.clipboardData.files&&a.clipboardData.files.length>0)for(f=0;f<a.clipboardData.files.length;f++)a.clipboardData.files[f].type.match("image.*")&&(k=!1,b(e,a.clipboardData.files[0]))}if(k)for(f in c)c[f].call(a,e)}})}),b.br.onPaste=function(a){c.push(a)}}(jQuery,window);